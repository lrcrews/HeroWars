@import '../../sass-mixins/mixins.scss';

.war-header {
  .matchup-date {
    margin-top: -0.5rem;

    .war-week {
      font-weight: 600;
    }

    .date {
      color: $grey-6;
      padding-left: 0.5rem;
    }

    .war-select {
      position: relative;

      &:hover {
        > .current-selection {
          border: 1px solid $red-6;
        }
      }

      > .current-selection {
        border: 1px solid $grey-8;
        border-radius: 3px;
        cursor: pointer;
        padding: 0.25rem;
        width: 16.5rem;

        > .affordance {
          float: right;
          height: 1rem;
        }
      }

      > .options {
        background-color: $white-1;
        border: 1px solid $grey-8;
        border-radius: 0 3px 3px 0;
        display: none;
        padding: 0.25rem 0;
        position: absolute;
        width: 17rem;
        z-index: 100;

        &.visible {
          display: block;
        }

        > .option {
          cursor: pointer;
          padding: 0.5rem 0.25rem;

          &:hover {
            background-color: $grey-2;
          }

          &.selected {
            background-color: $blue-1;
          }

          > .icon {
            color: $blue-4;
            float: right;
            height: 1rem;
          }
        }
      }
    }
  }

  .matchup {
    margin: 0 auto;
    padding: 1.25rem 0;
    text-align: center;
    width: 80%;

    > * {
      display: inline-block;
      vertical-align: top;
    }

    > .guild-banner {
      height: 5.5rem;

      &.right-banner {
        margin-left: -0.5rem;
      }
    }

    > .matchup-details {
      width: calc(100% - 10.5rem);

      > .bar-graphic {
        border: 2px solid $gold-1;
        border-radius: 3px;
        height: 1rem;
        margin: 0.375rem 0 0 -0.5rem;
        position: relative;
        width: calc(100% + 0.25rem);

        > .left-fill,
        > .right-fill {
          display: inline-block;
          height: 100%;
          transition: width 0.2s ease-in-out;
          vertical-align: top;
        }

        > .left-fill {
          background-color: $green-1;
        }

        > .right-fill {
          background-color: $red-5;
        }

        > .badge {
          height: 100%;
          left: 0;
          position: absolute;
          top: -0.5rem;
          transition: left 0.2s ease-in-out;

          > img {
            height: 2rem;
          }
        }
      }

      > .guild-names {
        margin: 0.25rem 0 0.5rem -0.5rem;
        width: calc(100% + 0.5rem);

        > * {
          display: inline-block;
          text-align: left;
          vertical-align: middle;
          width: calc(50% - 1rem);

          &.vs-badge {
            width: 2rem;

            > img {
              height: 2rem;
              margin-top: 0.5rem;
            }
          }

          @supports (-ms-ime-align: auto) {
            margin-right: -4px; // Edge adds margin-right on inline-block, and we happen to care in this case
          }

          &:last-child {
            text-align: right;
          }

          .name,
          .points {
            font-weight: 600;
            padding: 0 1rem;
          }

          .points {
            > * {
              display: inline-block;
              vertical-align: middle;
            }

            > img {
              height: 1.5rem;
              margin: 0 0.5rem;
            }
          }
        }
      }
    }
  }

  .stats {
    margin-top: 1rem;

    > .stat {
      background-color: $grey-1;
      border: 1px solid $grey-4;
      border-radius: 3px;
      display: inline-block;
      margin: 0 2rem 2rem 0;
      padding: 0.5rem;
      text-align: center;
      width: 5rem;

      &:last-child {
        margin-right: 0;
      }
    }
  }
}
